# using SendGrid's Python Library
# https://github.com/sendgrid/sendgrid-python
import os
from sendgrid import SendGridAPIClient
from sendgrid.helpers.mail import Mail

message = Mail(
    from_email='praj1299@gmail.com',
    to_emails='assignment@meyvan.com',
    subject='Sending with Twilio SendGrid along with the content.Cheers!',
    html_content="<!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.0 Transitional//EN' 'http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd'><html xmlns='http://www.w3.org/1999/xhtml'><head><meta http-equiv='Content-Type' content='text/html; charset=UTF-8'/><title>Meyvan email Design</title><meta name='viewport' content='width=device-width, initial-scale=1.0'/><style type='text/css'>::-webkit-scrollbar{width:10px}::-webkit-scrollbar-track{background:#f1f1f1}::-webkit-scrollbar-thumb{background:#888}::-webkit-scrollbar-thumb:hover{background:#555}</style></head><body style='margin:0, padding:0;'><table align='center' border='0' cellpadding='0' cellspacing='0' width='600' style='border: 1px solid #cccccc;'><tr><td align='center' bgcolor='#70bbd9' style='padding: 40px 0 30px 0;'> <img src='https://i.ibb.co/7yL1jhD/Meyvan-Logo.jpg' alt='' width='400' height='230' style='display: block;'/></td></tr><tr><td bgcolor='#ffffff' style='padding: 40px 30px 40px 30px;'><table border ='0' cellpadding='0' cellspacing='0' width='100%'><tr><td align='center' style='padding: 20px 0 30px 0,font-family: Arial, sans-serif;'> <b>Let us Work Together as One Family!</b></td></tr><tr><td style='padding : 20px 0 30px 0;'> Meyvan is a very young well-funded startup, kind of like a seed in a pot, just starting its journey into the competitive world. We are a team of 2 founders and are planning to expand it now. We got plans to build a complete SAAS tool which supports startups on all segments (Development, Marketing, Management, Legal, Finance, etc)</td></tr><tr><td><table border='0' cellpadding='0' cellspacing='0' width='100%'><tr><td width='600' valign='top'><table border='0' cellpadding='0' cellspacing='0' width='100%'><tr><td> <img src='https://i.ibb.co/nR2xY7c/heart.png' alt='' width='100%' height='140' style='display:block;'/></td></tr><tr><td style='padding: 25px 0 0 0;'> <b>What we expect?</b>Passionate about the prospect of joining an early-stage startup.Great coding abilities.Ready to learn new technologies as we adopt them.Work with a team that you can both learn from and teach.You are highly autonomous and adaptable, simply put, you get things done</td></tr></table></td><td style='font-size:0;line-height:0;' width='20'> &nbsp;</td><td width='626' valign='top'><table border='0' cellpadding='0' cellspacing='0' width='100%'><tr><td> <img src='https://i.ibb.co/cQF2nZ1/family.jpg' alt='' width='100%' height='140' style='display:block;'/></td></tr><tr><td style='padding: 25px 0 0 0;'> <b>What do you get?</b>Flexible work schedule (focused on delivery).Work with the Founders directly.Write lots of code.Learn scalable architecture practises.Work with a lot of third-party marketplace APIs.Fully Remote Team, we intend to keep it this way for the foreseeable future!</td></tr></table></td></tr></table></td></tr></table></td></tr><tr><td align='center' bgcolor='#000000' style='padding: 40px 0 30px 0;'> <img src='https://i.ibb.co/cb5hJbc/prajith.png' alt='' width='400' height='230' style='display: block;'/></td></tr><tr><td bgcolor='#ffffff' style='padding: 40px 30px 40px 30px;'><table border ='0' cellpadding='0' cellspacing='0' width='100%' ><tr><td align='center' style='padding: 20px 0 30px 0,font-family: Arial, sans-serif;'> <b>Get to know me!</b></td></tr><tr><td style='padding : 20px 0 30px 0;'> Voila! This is <a href ='mailto:praj1299@gmail.com ' style='color:#000000;'><b>Prajith Raj</b></a> ,supposedly the one who is designing this template.Well,for a start,Who does not want it work in an startup environment where the primary focus is on learning and budding relationships.Like you said,let us make it happen! Here is the Github repo for the assignment: <a href='https://github.com/Prajith3/prajithraj/tree/master/meyvan_tech_assignments'><b>Github</b> :)</a></td></tr></table></td></tr><tr><td bgcolor='#ee4c50' style='padding: 20px 20px 20px 20px;'><table border='0' cellpadding='0' cellspacing='0' width='100%'><tr><td width='75%' style='font-family: Arial,sans-serif;'> <a href ='mailto:careers@meyvan.com ' style='color:#000000;'>Mail us for queries </a> or <a href='tel:+91-98932-40348' style='color:#000000;'>Contact us: +91-98932-40348</a><br/> <a href='%unsubscribe%' style='color:#000000;'>Unsubscribe</a><br/> <b>&reg; Meyvan Pvt.Ltd 2020</b></td><td align='right'><table border='0' cellpadding='0' cellspacing='0'><tr><td> <a href='https://www.linkedin.com/company/meyvan-meynigar-vanigam-pvt-ltd/?originalSubdomain=in'> <img src='https://i.ibb.co/sgPNGrg/linkedln-icon.jpg' alt='linkedin' width='38' height='38' style='display: block;' border='0' /> </a></td><td style='font-size: 0; line-height: 0;' width='20'>&nbsp;</td><td> <a href='https://meyvan.com/'> <img src='https://i.ibb.co/YjPjZcq/Meyvan-logo-1.png' alt='website' width='70' height='60' style='display: block;' border='0' /> </a></td></tr></table></td></tr></table></td></tr></table></body></html>")
try:
    sg = SendGridAPIClient(os.environ.get('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'))
    response = sg.send(message)
    print(response.status_code)
    print(response.body)
    print(response.headers)
except Exception as e:
    print(str(e))
